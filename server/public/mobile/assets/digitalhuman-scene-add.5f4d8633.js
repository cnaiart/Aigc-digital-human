import{k as e,z as l,C as a,o as s,c as t,w as u,a as o,f as r,d as c,t as n,v as d,a3 as p,a4 as f,b8 as i,ae as _,be as m,H as v,az as g,h,ba as y}from"./index-e4851b67.js";import{y as x}from"./y-popup.6203d34a.js";import{c as b,u as w}from"./scene.28bc32b5.js";import{g as j}from"./index.0272cd43.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-parse.143af95b.js";import"./u-popup.c78c5737.js";import"./u-icon.74289404.js";const V=k(e({__name:"add",setup(e){const k=l(""),V=l({name:"",local_video_url:""}),C=l();a((()=>{M()}));const M=()=>{j().then((e=>{C.value=e}))},T=()=>{p({title:"提交中..."}),b(V.value).then((e=>{f(),i({title:"添加成功",icon:"none"}),setTimeout((()=>{_()}),500)})).catch((e=>{f(),uni.$u.toast(e)}))},z=()=>{m({sourceType:["album"],compressed:!1,success(e){p({title:"视频上传中..."}),w(e.tempFilePath).then((e=>{f(),V.value.local_video_url=e.url,k.value=e.uri,i({title:"视频上传成功"})})).catch((e=>{f()}))}})};return(e,l)=>{const a=v,p=g,f=h,i=y;return s(),t(f,{class:"y-page"},{default:u((()=>[o(f,{class:"p-20 text-white"},{default:u((()=>[o(f,{class:"bg-grey p-15 round-8"},{default:u((()=>[o(a,{class:"fs-17 fw-600"},{default:u((()=>[r("名字")])),_:1}),o(p,{placeholder:"请输入声音名称","placeholder-class":"fs-12",modelValue:V.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value.name=e),class:"fs-12 mt-8"},null,8,["modelValue"])])),_:1}),o(f,{class:"bg-grey mt-7 p-15 round-8"},{default:u((()=>[o(a,{class:"fs-17 fw-600"},{default:u((()=>[r("上传本地视频")])),_:1}),o(f,{class:"flex flex-center py-15"},{default:u((()=>[""==k.value?(s(),t(f,{key:0,class:"w-150 h-150 round-8 border-purple bg-grey-3 flex flex-column flex-center grid-gap-6",style:{"border-style":"dashed"},onClick:z},{default:u((()=>[o(a,{class:"iconfont icon-shangchuanshipin fs-30"}),o(a,{class:"fs-14"},{default:u((()=>[r("上传视频")])),_:1})])),_:1})):(s(),t(i,{key:1,src:k.value},null,8,["src"]))])),_:1}),o(f,{class:"w-p-100 p-15 border-grey-3 text-grey-4 round-8"},{default:u((()=>[o(a,{class:"fs-14 fw-900"},{default:u((()=>[r("视频要求")])),_:1}),o(f,{class:"flex flex-column grid-gap-10 mt-10 fs-11 ls-1"},{default:u((()=>[o(a,null,{default:u((()=>[r(" 1.视频格式要求为MP4/MOV; ")])),_:1}),o(a,null,{default:u((()=>[r(" 2.视频大小低于100M; ")])),_:1}),o(a,null,{default:u((()=>[r(" 3.不要使用有多人的视频; ")])),_:1}),o(a,null,{default:u((()=>[r(" 4.不要遍挡面部，确保人脸不出屏幕，并使面部究度占整体画面宽度的1/4以上;")])),_:1}),o(a,null,{default:u((()=>[r(" 5.分辨率不低于360p，且不高于4K。视频长度不少于5秒且不超过30分钟 ")])),_:1})])),_:1})])),_:1})])),_:1}),o(f,{class:"p-20 text-white text-center fw-600 ls-2"},{default:u((()=>[o(f,{class:c(["round-30 py-15",V.value.name&&V.value.local_video_url?"bg-purple":"bg-purple-1"]),onClick:l[1]||(l[1]=e=>V.value.name&&V.value.local_video_url?T:null)},{default:u((()=>{var e;return[r(" 消耗"+n(null==(e=C.value)?void 0:e.scene_points)+"算力点创建 ",1)]})),_:1},8,["class"])])),_:1}),o(d(x),{type:"scene"})])),_:1})])),_:1})}}}),[["__scopeId","data-v-a3c84616"]]);export{V as default};
