import{k as e,z as s,C as t,o as a,c as l,w as o,a as n,f as c,b as u,r as i,F as r,aF as f,b8 as d,G as p,H as m,h as _,q as g,s as x,e as b,g as v,d as h,t as k,a8 as y,ae as C,a3 as w,i as j}from"./index-e4851b67.js";import{_ as z}from"./u-popup.c78c5737.js";import{g as F,d as T,r as $,a as q}from"./scene.28bc32b5.js";import{_ as A}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.74289404.js";const E=A(e({__name:"index",setup(e){const A=s(0),E=s(),G=s(),H=s(!1);t((e=>{e.backStatus&&(H.value=!0),I()}));const I=(e=1)=>{F({page_type:e,status:"2"}).then((e=>{E.value=e.lists}))},R=()=>{f({title:"确认删除?",content:"确认删除该视频?",success(e){e.confirm&&T({id:A.value}).then((e=>{G.value.close(),d({title:"删除成功"}),I()}))}})},S=()=>{f({title:"修改名称",editable:!0,placeholderText:"输入新的名称",success(e){e.confirm&&$({id:A.value,name:e.content}).then((e=>{G.value.close(),d({title:"修改成功"}),I()}))}})},B=()=>{p({url:"/digitalhuman/scene/add"})},D=e=>{f({title:"温馨提示",content:"确认重试？",success(s){s.confirm&&(w({title:"提交中..."}),q({id:e}).then((e=>{d({title:"提交成功"})})))}})};return(e,s)=>{const t=m,f=_,d=j,p=g(x("u-popup"),z);return a(),l(f,{class:"y-page"},{default:o((()=>[n(f,{class:"text-white vh-100 box-sizing"},{default:o((()=>[n(f,{class:"pt-20 px-20"},{default:o((()=>[n(t,{class:"fs-17 font-bold"},{default:o((()=>[c("我的分身")])),_:1})])),_:1}),n(f,{class:"mb-30 p-20"},{default:o((()=>[n(f,{class:"grid-columns-3 mt-15 grid-gap-20"},{default:o((()=>[(a(!0),u(r,null,i(E.value,((e,s)=>(a(),l(f,{class:"round-10 position-relative h-180 w-110 over-hidden",key:s,onClick:b((s=>(e=>{if(1==H.value){let s=y(),t=s[s.length-2];return t.$vm.scene_id=e.id,t.$vm.name=e.name,C(),!0}})(e)),["stop"])},{default:o((()=>["1"==e.status?(a(),l(f,{key:0,class:"text-center"},{default:o((()=>[n(f,{class:"spinner mb-10"},{default:o((()=>[n(f,{class:"spinner1"})])),_:1}),n(t,{class:"fs-10"},{default:o((()=>[c("生成中...")])),_:1})])),_:1})):v("",!0),"2"==e.status?(a(),l(d,{key:1,class:"w-110 round-10 h-180",mode:"aspectFill",src:e.cover_image},null,8,["src"])):v("",!0),"3"==e.status?(a(),l(f,{key:2,class:"flex flex-column grid-gap-10 text-center",onClick:b(D,["stop"])},{default:o((()=>[n(t,{class:"iconfont icon-zhongshi text-purple fs-20"}),n(t,{class:"fs-10"},{default:o((()=>[c("克隆失败,点击重试")])),_:1})])),_:1},8,["onClick"])):v("",!0),"1"!=e.status?(a(),l(f,{key:3,class:h(["position-absolute bottom--1 right--1 left--1 fs-12 py-6 flex flex-x-space-between px-12","2"==e.status?"bg-b":"bg-w"])},{default:o((()=>[n(t,null,{default:o((()=>[c(k(e.name),1)])),_:2},1024),n(t,{class:"iconfont icon-_gengduo text-white fs-13 ml-2",style:{transform:"rotate(90deg)"},onClick:b((s=>{return t=e,A.value=t,void G.value.open();var t}),["stop"])},null,8,["onClick"])])),_:2},1032,["class"])):v("",!0)])),_:2},1032,["onClick"])))),128)),n(f,{class:"h-180 w-110 flex flex-center"},{default:o((()=>[n(f,{class:"w-90 text-center bg-purple round-30 py-12 fw-700",onClick:B},{default:o((()=>[c("新增")])),_:1})])),_:1})])),_:1})])),_:1}),n(p,{ref_key:"popup",ref:G,borderRadius:"20",bgColor:"#fff",mode:"bottom"},{default:o((()=>[n(f,{class:"p-20 text-black text-center fs-15 round-top-10"},{default:o((()=>[n(f,{class:"bg-grey-2 round-30 py-15",onClick:S},{default:o((()=>[c("重命名")])),_:1}),n(f,{class:"bg-grey-2 round-30 py-15 mt-15",onClick:R},{default:o((()=>[c("删除")])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})}}}),[["__scopeId","data-v-eff301ef"]]);export{E as default};
