import{W as e,k as t,m as s,q as a,s as n,o as l,c as r,w as i,a as o,f as c,t as u,e as p,v as d,g as m,G as g,h as f,V as y,u as x,b as _,X as v,F as b,r as h,x as k,S as j,j as w,y as O,Y as C,Z as I,_ as L,$ as S,E as M}from"./index-e4851b67.js";import{_ as z}from"./page-meta.d3be293c.js";import{_ as U}from"./u-avatar.364cde84.js";import{_ as E}from"./u-icon.74289404.js";import{_ as F}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as G}from"./u-image.a8e24066.js";import{_ as J}from"./tabbar.vue_vue_type_script_setup_true_lang.6b2a383b.js";import"./u-badge.4774cf88.js";const N=F(t({__name:"user-info",props:{pageMeta:{type:Object,default:()=>[]},content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(t){const x=t,{copy:_}={copy:t=>{e({data:String(t)})}};s((()=>x.pageMeta[0].content));return(e,s)=>{const x=a(n("u-avatar"),U),v=f,b=y,h=a(n("u-icon"),E);return l(),r(v,{class:"user-info mb-[0rpx]"},{default:i((()=>[o(v,{class:"flex items-center justify-between px-[50rpx] pb-[50rpx] pt-[40rpx]"},{default:i((()=>[t.isLogin?(l(),r(v,{key:0,class:"flex items-center",onClick:s[1]||(s[1]=e=>{g({url:"/pages/user_data/user_data"})})},{default:i((()=>[o(x,{src:t.user.avatar,size:120},null,8,["src"]),o(v,{class:"text-white ml-[20rpx]"},{default:i((()=>[o(v,{class:"text-2xl"},{default:i((()=>[c(u(t.user.nickname),1)])),_:1}),o(v,{class:"text-xs mt-[18rpx]",onClick:s[0]||(s[0]=p((e=>d(_)(t.user.account)),["stop"]))},{default:i((()=>[c(" 账号："+u(t.user.account),1)])),_:1})])),_:1})])),_:1})):(l(),r(b,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:i((()=>[o(x,{src:"/static/images/user/default_avatar.png",size:120}),o(v,{class:"text-white text-3xl ml-[20rpx]"},{default:i((()=>[c("未登录")])),_:1})])),_:1})),t.isLogin?(l(),r(b,{key:2,"hover-class":"none",url:"/pages/user_set/user_set"},{default:i((()=>[o(h,{name:"setting",color:"#fff",size:48})])),_:1})):m("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-090ccad9"]]),$=t({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const t=e,{getImageUrl:r}=x(),i=e=>{k(e)},c=s((()=>{var e;return(null==(e=t.content.data)?void 0:e.filter((e=>"1"==e.is_show)))||[]}));return(t,s)=>{const p=a(n("u-image"),G),g=a(n("u-icon"),E);return l(),_("div",{class:"my-service bg-[#1a1a1a] mx-[20rpx] text-white mt-[20rpx] rounded-lg p-[30rpx]"},[e.content.title?(l(),_("div",{key:0,class:"title font-medium text-lg"},[v("div",null,u(e.content.title),1)])):m("",!0),1==e.content.style?(l(),_("div",{key:1,class:"grid grid-cols-4 gap-x-9 gap-y-7"},[(l(!0),_(b,null,h(d(c),((e,t)=>(l(),_("div",{key:t,class:"flex flex-col items-center pt-[40rpx]",onClick:t=>i(e.link)},[o(p,{width:"52",height:"52",src:d(r)(e.image),alt:""},null,8,["src"]),v("div",{class:"mt-[22rpx] text-sm"},u(e.name),1)],8,["onClick"])))),128))])):m("",!0),2==e.content.style?(l(),_("div",{key:2},[(l(!0),_(b,null,h(d(c),((e,t)=>(l(),_("div",{key:t,class:"flex items-center border-light border-solid border-0 border-b h-[100rpx] px-[24rpx]",onClick:t=>i(e.link)},[o(p,{width:"48",height:"48",src:d(r)(e.image),alt:""},null,8,["src"]),v("div",{class:"ml-[20rpx] flex-1 text-sm"},u(e.name),1),v("div",{class:"text-muted"},[o(g,{name:"arrow-right"})])],8,["onClick"])))),128))])):m("",!0)])}}}),q=t({__name:"user-banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const t=e,{getImageUrl:c}=x(),u=s((()=>{var e;return(null==(e=t.content.data)?void 0:e.filter((e=>"1"==e.is_show)))||[]}));return(t,s)=>{const p=a(n("u-image"),G),g=j,y=w,x=f;return d(u).length&&e.content.enabled?(l(),r(x,{key:0,class:"banner h-[200rpx] mx-[20rpx] mt-[20rpx] translate-y-0"},{default:i((()=>[o(y,{class:"swiper h-full","indicator-dots":d(u).length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:i((()=>[(l(!0),_(b,null,h(d(u),((e,t)=>(l(),r(g,{key:t,onClick:t=>{return s=e.link,void k(s);var s}},{default:i((()=>[o(p,{mode:"widthFix",width:"100%",height:"100%",src:d(c)(e.image),"border-radius":14},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):m("",!0)}}}),A=F(t({__name:"user",setup(e){const t=O({meta:[],pages:[]}),s=C(),{userInfo:c,isLogin:u}=I(s);return L((()=>{s.getUser()})),(async()=>{const e=await S({id:2});t.meta=JSON.parse(e.meta),t.pages=JSON.parse(e.data),M({title:t.meta[0].content.title})})(),(e,s)=>{const p=a(n("page-meta"),z),g=a(n("w-user-info"),N),y=a(n("w-my-service"),$),x=a(n("w-user-banner"),q),v=f,k=a(n("tabbar"),J);return l(),_(b,null,[o(p,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),o(v,{class:"user"},{default:i((()=>[(l(!0),_(b,null,h(t.pages,((e,s)=>(l(),r(v,{key:s},{default:i((()=>["user-info"==e.name?(l(),r(g,{key:0,pageMeta:t.meta,content:e.content,styles:e.styles,user:d(c),"is-login":d(u)},null,8,["pageMeta","content","styles","user","is-login"])):m("",!0),"my-service"==e.name?(l(),r(y,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):m("",!0),"user-banner"==e.name?(l(),r(x,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):m("",!0)])),_:2},1024)))),128)),o(k)])),_:1})],64)}}}),[["__scopeId","data-v-d82076ca"]]);export{A as default};
