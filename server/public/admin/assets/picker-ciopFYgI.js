import{d as I,i as O,j as F,V as k,o as r,a as g,m,w as x,e as o,n as z,eI as J,B as Y,C as V,b as a,t as C,D as E,E as G,v as Q,e9 as W,bD as X,K as Z,x as q,p as R,F as T,r as $,Y as ee,c as N,G as b,eJ as te,eK as le,eL as ae,s as ne,am as se,q as oe}from"./index-CCrR8gz-.js";import{P as ie}from"./index-DHgbyyKv.js";import{_ as de}from"./index.vue_vue_type_script_setup_true_lang-DDaBj0sS.js";import{E as me,a as pe}from"./el-table-column-D7nUoGJX.js";import{E as ue}from"./el-checkbox-DAGPPbNY.js";import"./el-tag-Cl2Qmz3l.js";import{E as re,a as ce}from"./el-form-DkAfNPH3.js";import"./el-form-item-l0sNRNKZ.js";import{m as _e}from"./article-DrnE50fF.js";import{u as fe}from"./usePaging-L7-2Frc5.js";/* empty css                       */import{E as xe,a as ve}from"./el-radio-Bn9sE85B.js";var w=(n=>(n.SHOP_PAGES="shop",n.APPTOOL="application_tool",n.OTHER_LINK="other_link",n))(w||{}),l=(n=>(n.SHOP_PAGES="shop",n.ARTICLE_LIST="article",n.CUSTOM_LINK="custom",n.MINI_PROGRAM="mini_program",n))(l||{});const ye={class:"article-list"},he={class:"flex row-center"},Se={class:"flex items-center"},Pe={class:"ml-4 overflow-hidden"},ge={class:"text-base line-clamp-2"},Ve={class:"flex justify-end mt-4"},we=I({__name:"article-list",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:h}){const c=n,y=h,d=O({path:"/pages/news_detail/news_detail",name:"",query:{},type:l.ARTICLE_LIST}),t=F({name:"",is_show:1}),{pager:e,getLists:_,resetPage:s}=fe({fetchFun:_e,params:t}),i=f=>f==Number(d.value.id),u=f=>{d.value={id:f.id,name:f.title,path:"/pages/news_detail/news_detail",query:{id:f.id},type:l.ARTICLE_LIST},y("update:modelValue",d.value)};return k(()=>c.modelValue,f=>{if(f.type!=l.ARTICLE_LIST)return d.value={id:"",name:"",path:"/pages/news_detail/news_detail",type:l.SHOP_PAGES};d.value=f},{immediate:!0}),_(),(f,v)=>{const p=G,S=Q,A=re,L=ce,M=ue,H=me,K=W,U=X,j=pe,B=de,D=Z;return r(),g("div",ye,[m(L,{ref:"formRef",model:o(t),inline:!0},{default:x(()=>[m(A,{class:"w-[280px]",label:"文章名称"},{default:x(()=>[m(p,{modelValue:o(t).name,"onUpdate:modelValue":v[0]||(v[0]=P=>o(t).name=P),placeholder:"请输入",clearable:"",onKeyup:z(o(s),["enter"])},null,8,["modelValue","onKeyup"]),m(S,{type:"primary",class:"ml-4",icon:o(J),onClick:o(s)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["model"]),Y((r(),V(j,{size:"large",data:o(e).lists,height:"432px",onRowClick:u},{default:x(()=>[m(H,{label:"选择","min-width":"50"},{default:x(({row:P})=>[a("div",he,[m(M,{"model-value":i(P.id),size:"large",onChange:Ye=>u(P)},null,8,["model-value","onChange"])])]),_:1}),m(H,{label:"文章名称","min-width":"180"},{default:x(({row:P})=>[a("div",Se,[m(K,{fit:"cover",src:P.image,class:"flex-none w-[58px] h-[58px]"},null,8,["src"]),a("div",Pe,[m(U,{effect:"dark",content:P.title,placement:"top"},{default:x(()=>[a("div",ge,C(P.title),1)]),_:2},1032,["content"])])])]),_:1}),m(H,{label:"创建时间",prop:"create_time","min-width":"140"})]),_:1},8,["data"])),[[D,o(e).loading]]),a("div",Ve,[m(B,{modelValue:o(e),"onUpdate:modelValue":v[1]||(v[1]=P=>E(e)?e.value=P:null),onChange:o(_)},null,8,["modelValue","onChange"])])])}}}),Ee=q(we,[["__scopeId","data-v-9e297bd2"]]),Ie={class:"custom-link h-[530px]"},Oe={class:"flex flex-wrap items-center mt-4"},ke={class:"ml-4 flex-1 min-w-[100px]"},Ae=I({__name:"custom-link",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:h}){const c=h,y=d=>{c("update:modelValue",{path:"/pages/webview/webview",query:{url:d},type:l.CUSTOM_LINK})};return(d,t)=>{var _;const e=G;return r(),g("div",Ie,[t[1]||(t[1]=a("div",{class:"text-xl font-medium"},"自定义链接",-1)),a("div",Oe,[t[0]||(t[0]=a("div",{class:"w-[86px] text-right"},"自定义链接",-1)),a("div",ke,[m(e,{class:"max-w-[320px]","model-value":(_=n.modelValue.query)==null?void 0:_.url,placeholder:"请输入链接地址",onInput:y},null,8,["model-value"])])]),t[2]||(t[2]=a("div",{class:"form-tips ml-[101px] max-w-[320px]"}," 请填写完整的带有“https://”或“http://”的链接地址，链接的域名必须在微信公众平台设置业务域名 ",-1))])}}}),be={class:"mini-program h-[530px]"},Ce={class:"flex flex-wrap items-center mt-4"},Ge={class:"ml-4 flex-1 min-w-[100px]"},Le={class:"flex flex-wrap items-center mt-4"},He={class:"ml-4 flex-1 min-w-[100px]"},Re={class:"flex flex-wrap items-center mt-4"},Te={class:"ml-4 flex-1 min-w-[100px]"},$e={class:"flex flex-wrap items-center mt-4"},qe={class:"ml-4 flex-1 min-w-[100px]"},Ne=I({__name:"mini-program",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:h}){const c=n,y=h,d=(t,e)=>{y("update:modelValue",{...c.modelValue,name:"小程序跳转",query:{...c.modelValue.query,[t]:e},type:l.MINI_PROGRAM})};return k(()=>c.modelValue,t=>{var e;(e=t.query)!=null&&e.env_version||d("env_version","release")},{immediate:!0}),(t,e)=>{var u,f,v,p;const _=G,s=xe,i=ve;return r(),g("div",be,[e[11]||(e[11]=a("div",{class:"text-xl font-medium"},"跳转小程序",-1)),a("div",Ce,[e[4]||(e[4]=a("div",{class:"w-[86px] text-right"},"小程序APPID",-1)),a("div",Ge,[m(_,{class:"max-w-[320px]","model-value":(u=n.modelValue.query)==null?void 0:u.appId,placeholder:"请输入小程序appId",onInput:e[0]||(e[0]=S=>d("appId",S))},null,8,["model-value"])])]),a("div",Le,[e[5]||(e[5]=a("div",{class:"w-[86px] text-right"},"小程序路径",-1)),a("div",He,[m(_,{class:"max-w-[320px]","model-value":(f=n.modelValue.query)==null?void 0:f.path,placeholder:"请输入小程序路径链接地址",onInput:e[1]||(e[1]=S=>d("path",S))},null,8,["model-value"])])]),a("div",Re,[e[6]||(e[6]=a("div",{class:"w-[86px] text-right"},"传递参数",-1)),a("div",Te,[m(_,{class:"max-w-[320px]","model-value":(v=n.modelValue.query)==null?void 0:v.query,placeholder:"请输入小程序跳转参数(选填)",onInput:e[2]||(e[2]=S=>d("query",S))},null,8,["model-value"])])]),e[12]||(e[12]=a("div",{class:"form-tips ml-[100px] max-w-[320px]"},[a("div",null,"示例：id=2&ustm=jiny&name=234"),a("div",{class:"text-error"}," 注意：不允许输入中文、特殊字符等。如果出现对不起，当前页面无法访问，大概率是跳转参数的问题！！ ")],-1)),a("div",$e,[e[10]||(e[10]=a("div",{class:"w-[86px] text-right"},"小程序版本",-1)),a("div",qe,[m(i,{"model-value":(p=n.modelValue.query)==null?void 0:p.env_version,onChange:e[3]||(e[3]=S=>d("env_version",S))},{default:x(()=>[m(s,{value:"release"},{default:x(()=>e[7]||(e[7]=[R("正式版")])),_:1}),m(s,{value:"trial"},{default:x(()=>e[8]||(e[8]=[R("体验版")])),_:1}),m(s,{value:"develop"},{default:x(()=>e[9]||(e[9]=[R("开发版")])),_:1})]),_:1},8,["model-value"])])]),e[13]||(e[13]=a("div",null,[a("div",{class:"form-tips ml-[100px] max-w-[320px]"},[a("div",{class:"mt-4"}," 1. 小程序APPID和小程序路径链接地址，小程序路径链接地址请填写小程序的页面路径，如：pages/index/index "),a("div",{class:"mt-2"},[a("span",null,"2. 如果是H5(浏览器)中需要跳转到小程序，则需要以下配置--->"),a("a",{href:"https://mp.weixin.qq.com/",class:"text-primary",target:"_blank",rel:"nofollow"}," 小程序管理后台 -> 设置 -> 隐私与安全 -> 明文 scheme 拉起此小程序 （点击跳转去配置） ")])])],-1))])}}}),Me={class:"shop-pages h-[530px]"},Ke={class:"link-list flex flex-wrap"},Ue=["onClick"],je=I({__name:"shop-pages",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(n,{emit:h}){const c=h,y=O([{path:"/pages/index/index",name:"商城首页",type:l.SHOP_PAGES,canTab:!0},{path:"/digitalhuman/replicon/index",name:"形象克隆",type:l.SHOP_PAGES,canTab:!1},{path:"/pages/news/news",name:"文章资讯",type:l.SHOP_PAGES},{path:"/pages/user/user",name:"个人中心",type:l.SHOP_PAGES,canTab:!0},{path:"/pages/collection/collection",name:"我的收藏",type:l.SHOP_PAGES},{path:"/pages/customer_service/customer_service",name:"联系客服",type:l.SHOP_PAGES},{path:"/pages/user_set/user_set",name:"个人设置",type:l.SHOP_PAGES},{path:"/pages/as_us/as_us",name:"关于我们",type:l.SHOP_PAGES},{path:"/pages/user_data/user_data",name:"个人资料",type:l.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"隐私政策",query:{type:"privacy"},type:l.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"服务协议",query:{type:"service"},type:l.SHOP_PAGES},{path:"/pages/search/search",name:"搜索",type:l.SHOP_PAGES},{path:"/packages/pages/user_wallet/user_wallet",name:"我的钱包",type:l.SHOP_PAGES},{path:"/digitalhuman/works/create",name:"创作视频",type:l.SHOP_PAGES},{path:"/digitalhuman/works/index",name:"我的作品",type:l.SHOP_PAGES},{path:"/digitalhuman/cdkey/index",name:"卡密兑换",type:l.SHOP_PAGES},{path:"/digitalhuman/package/index",name:"套餐充值",type:l.SHOP_PAGES}]),d=t=>{c("update:modelValue",t)};return(t,e)=>(r(),g("div",Me,[a("div",Ke,[(r(!0),g(T,null,$(o(y),(_,s)=>(r(),g("div",{class:ee(["link-item border border-br px-5 py-[5px] rounded-[3px] cursor-pointer mr-[10px] mb-[10px]",{"border-primary text-primary":n.modelValue.path==_.path&&n.modelValue.name==_.name}]),key:s,onClick:i=>d(_)},C(_.name),11,Ue))),128))])]))}}),Be={class:"link flex"},De={class:"flex-1 ml-4 link-content"},Fe=I({__name:"index",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(n,{emit:h}){const c=n,y=h,d=O([{name:"商城页面",type:w.SHOP_PAGES,children:[{name:"基础页面",type:l.SHOP_PAGES,link:{}}]},{name:"应用工具",type:w.APPTOOL,children:[{name:"文章资讯",type:l.ARTICLE_LIST,link:{}}]},{name:"其他",type:w.OTHER_LINK,children:[{name:"自定义链接",type:l.CUSTOM_LINK,link:{}},{name:"跳转小程序",type:l.MINI_PROGRAM,link:{}}]}]),t=N({get(){let s={};return d.value.forEach(i=>{const u=i.children.find(f=>f.type==e.value);u&&(s=u)}),s.link},set(s){d.value.forEach(i=>{i.children.forEach(u=>{u.type==e.value&&(u.link=s)})})}}),e=O(l.SHOP_PAGES),_=s=>{e.value=s};return k(t,s=>{s.type&&y("update:modelValue",s)},{deep:!0}),k(()=>c.modelValue,s=>{e.value=s.type,t.value=s},{immediate:!0}),(s,i)=>{const u=te,f=le,v=ae;return r(),g("div",Be,[m(v,{"default-active":o(e),class:"flex-none w-[180px] min-h-[350px] link-menu","default-openeds":[o(w).SHOP_PAGES,o(w).APPTOOL,o(w).OTHER_LINK],onSelect:_},{default:x(()=>[(r(!0),g(T,null,$(o(d),(p,S)=>(r(),V(f,{index:p.type,key:S},{title:x(()=>[a("span",null,C(p.name),1)]),default:x(()=>[(r(!0),g(T,null,$(p.children,(A,L)=>(r(),V(u,{index:A.type,key:L,style:{"min-width":"160px"}},{default:x(()=>[a("span",null,C(A.name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active","default-openeds"]),a("div",De,[o(l).SHOP_PAGES==o(e)?(r(),V(je,{key:0,modelValue:o(t),"onUpdate:modelValue":i[0]||(i[0]=p=>E(t)?t.value=p:null)},null,8,["modelValue"])):b("",!0),o(l).ARTICLE_LIST==o(e)?(r(),V(Ee,{key:1,modelValue:o(t),"onUpdate:modelValue":i[1]||(i[1]=p=>E(t)?t.value=p:null)},null,8,["modelValue"])):b("",!0),o(l).CUSTOM_LINK==o(e)?(r(),V(Ae,{key:2,modelValue:o(t),"onUpdate:modelValue":i[2]||(i[2]=p=>E(t)?t.value=p:null)},null,8,["modelValue"])):b("",!0),o(l).MINI_PROGRAM==o(e)?(r(),V(Ne,{key:3,modelValue:o(t),"onUpdate:modelValue":i[3]||(i[3]=p=>E(t)?t.value=p:null)},null,8,["modelValue"])):b("",!0)])])}}}),ze=q(Fe,[["__scopeId","data-v-c8ad0dfa"]]),Je=I({__name:"picker",props:{modelValue:{type:Object},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:h}){const c=n,y=h,d=ne(),t=O({path:"",type:l.SHOP_PAGES}),e=()=>{y("update:modelValue",t.value)},_=N(()=>{var s,i,u;switch((s=c.modelValue)==null?void 0:s.type){case l.SHOP_PAGES:return c.modelValue.name;case l.ARTICLE_LIST:return c.modelValue.name;case l.CUSTOM_LINK:return(i=c.modelValue.query)==null?void 0:i.url;default:return(u=c.modelValue)==null?void 0:u.name}});return k(()=>c.modelValue,s=>{s!=null&&s.type&&(t.value=s)},{immediate:!0}),(s,i)=>{const u=oe,f=G;return r(),g("div",{class:"link-picker flex-1",onClick:i[2]||(i[2]=v=>{var p;return!n.disabled&&((p=o(d))==null?void 0:p.open())})},[m(f,{"model-value":o(_),placeholder:"请选择链接",readonly:"",disabled:n.disabled},{suffix:x(()=>{var v;return[(v=n.modelValue)!=null&&v.path?(r(),V(u,{key:1,name:"el-icon-Close",onClick:i[0]||(i[0]=se(p=>!n.disabled&&y("update:modelValue",{}),["stop"]))})):(r(),V(u,{key:0,name:"el-icon-ArrowRight"}))]}),_:1},8,["model-value","disabled"]),m(ie,{ref_key:"popupRef",ref:d,width:"1050px",title:"链接选择",onConfirm:e},{default:x(()=>[m(ze,{modelValue:o(t),"onUpdate:modelValue":i[1]||(i[1]=v=>E(t)?t.value=v:null)},null,8,["modelValue"])]),_:1},512)])}}}),dt=q(Je,[["__scopeId","data-v-c281815e"]]);export{dt as _};
