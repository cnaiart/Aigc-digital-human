import{d as E,s as T,i as k,j as U,o as r,a as $,m as e,w as a,e as l,p,B as F,C as i,b as f,G as V,D as j,E as q,v as z,$ as A,_ as G,K}from"./index-CCrR8gz-.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-DDaBj0sS.js";import{E as J,a as M}from"./el-table-column-D7nUoGJX.js";import"./el-checkbox-DAGPPbNY.js";import"./el-tag-Cl2Qmz3l.js";import{E as O}from"./el-card-D8ZdqwP3.js";import{E as Q,a as W}from"./el-form-DkAfNPH3.js";import"./el-form-item-l0sNRNKZ.js";import{u as X}from"./usePaging-L7-2Frc5.js";import{a as Y}from"./useDictOptions-BPbpikja.js";import{_ as Z,a as ee}from"./edit.vue_vue_type_script_setup_true_name_dhVideoEdit_lang-BCBK6xe3.js";import{E as oe}from"./index-CLznhjfG.js";import"./el-select-CfHlCGCq.js";import"./token-DI9FKtlJ.js";import"./isEqual-JI6aO8r4.js";import"./_Uint8Array-uB5CFG-g.js";import"./_initCloneObject-CPhW_kte.js";import"./_baseClone-BB0WOwCk.js";import"./index-DHgbyyKv.js";import"./index-lIngYJLf.js";const te={class:"mt-4"},ae=["href"],le={class:"flex mt-4 justify-end"},se=E({name:"dhVideoLists"}),xe=E({...se,setup(ne){const C=T(),v=k(!1),n=U({task_id:"",name:"",status:""}),h=k([]),y=b=>{h.value=b.map(({id:o})=>o)},{dictData:D}=Y(""),{pager:m,getLists:u,resetParams:x,resetPage:B}=X({fetchFun:ee,params:n});return u(),(b,o)=>{const _=q,d=Q,w=z,I=W,g=O,s=J,L=A,N=G,c=oe,P=M,R=H,S=K;return r(),$("div",null,[e(g,{class:"!border-none mb-4",shadow:"never"},{default:a(()=>[e(I,{class:"mb-[-16px]",model:l(n),inline:""},{default:a(()=>[e(d,{label:"任务ID",prop:"task_id"},{default:a(()=>[e(_,{class:"w-[280px]",modelValue:l(n).task_id,"onUpdate:modelValue":o[0]||(o[0]=t=>l(n).task_id=t),clearable:"",placeholder:"请输入任务ID"},null,8,["modelValue"])]),_:1}),e(d,{label:"视频名称",prop:"name"},{default:a(()=>[e(_,{class:"w-[280px]",modelValue:l(n).name,"onUpdate:modelValue":o[1]||(o[1]=t=>l(n).name=t),clearable:"",placeholder:"请输入视频名称"},null,8,["modelValue"])]),_:1}),e(d,{label:"",prop:"status"},{default:a(()=>[e(_,{class:"w-[280px]",modelValue:l(n).status,"onUpdate:modelValue":o[2]||(o[2]=t=>l(n).status=t),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(w,{type:"primary",onClick:l(B)},{default:a(()=>o[5]||(o[5]=[p("查询")])),_:1},8,["onClick"]),e(w,{onClick:l(x)},{default:a(()=>o[6]||(o[6]=[p("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),F((r(),i(g,{class:"!border-none",shadow:"never"},{default:a(()=>[f("div",te,[e(P,{data:l(m).lists,onSelectionChange:y},{default:a(()=>[e(s,{label:"ID",prop:"id","show-overflow-tooltip":""}),e(s,{label:"昵称",prop:"user.nickname","show-overflow-tooltip":""}),e(s,{label:"头像"},{default:a(({row:t})=>[e(L,{src:t.user.avatar,size:50},null,8,["src"])]),_:1}),e(s,{label:"任务ID",prop:"task_id","show-overflow-tooltip":""}),e(s,{label:"视频名称",prop:"name","show-overflow-tooltip":""}),e(s,{label:"图片","min-width":"100"},{default:a(({row:t})=>[t.cover_image?(r(),i(N,{key:0,src:t.cover_image,width:60,height:45,"preview-src-list":[t.cover_image],"preview-teleported":"",fit:"contain"},null,8,["src","preview-src-list"])):V("",!0)]),_:1}),e(s,{label:"视频","min-width":"100"},{default:a(({row:t})=>[f("a",{href:t.api_video_url,target:"_blank",rel:"noopener noreferrer",style:{color:"red"}},"点击播放",8,ae)]),_:1}),e(s,{label:"文本",prop:"text","show-overflow-tooltip":""}),e(s,{label:"状态",prop:"status"},{default:a(({row:t})=>[t.status==1?(r(),i(c,{key:0},{default:a(()=>o[7]||(o[7]=[p("生成中")])),_:1})):t.status==2?(r(),i(c,{key:1,type:"success"},{default:a(()=>o[8]||(o[8]=[p("生成成功")])),_:1})):(r(),i(c,{key:2,type:"danger"},{default:a(()=>o[9]||(o[9]=[p("生成失败")])),_:1}))]),_:1}),e(s,{label:"错误提示",prop:"message","show-overflow-tooltip":""})]),_:1},8,["data"])]),f("div",le,[e(R,{modelValue:l(m),"onUpdate:modelValue":o[3]||(o[3]=t=>j(m)?m.value=t:null),onChange:l(u)},null,8,["modelValue","onChange"])])]),_:1})),[[S,l(m).loading]]),l(v)?(r(),i(Z,{key:0,ref_key:"editRef",ref:C,"dict-data":l(D),onSuccess:l(u),onClose:o[4]||(o[4]=t=>v.value=!1)},null,8,["dict-data","onSuccess"])):V("",!0)])}}});export{xe as default};
