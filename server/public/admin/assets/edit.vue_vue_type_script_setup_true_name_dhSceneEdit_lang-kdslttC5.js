import{y as i,d as v,s as _,i as x,c as I,j as b,o as R,a as C,m as o,w as u,e as a,E as F}from"./index-CCrR8gz-.js";import{E as j,a as B}from"./el-form-DkAfNPH3.js";import"./el-form-item-l0sNRNKZ.js";import{P}from"./index-DHgbyyKv.js";function J(r){return i.get({url:"/digitalhuman.dh_scene/lists",params:r})}function q(r){return i.post({url:"/digitalhuman.dh_scene/add",params:r})}function A(r){return i.post({url:"/digitalhuman.dh_scene/edit",params:r})}function K(r){return i.post({url:"/digitalhuman.dh_scene/delete",params:r})}function L(r){return i.get({url:"/digitalhuman.dh_scene/detail",params:r})}const N={class:"edit-popup"},O=v({name:"dhSceneEdit"}),M=v({...O,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(r,{expose:g,emit:D}){const c=D,f=_(),p=_(),m=x("add"),U=I(()=>m.value=="edit"?"编辑场景":"新增场景"),l=b({id:"",name:"",cover_image:"",video_url:"",scene_id:"",robotid:"",uid:"",apiVideoUrl:"",type:"",task_id:"",status:"",massage:""}),h=b({}),V=async n=>{for(const e in l)n[e]!=null&&n[e]!=null&&(l[e]=n[e])},y=async n=>{const e=await L({id:n.id});V(e)},k=async()=>{var e,d;await((e=f.value)==null?void 0:e.validate());const n={...l};m.value=="edit"?await A(n):await q(n),(d=p.value)==null||d.close(),c("success")},w=(n="add")=>{var e;m.value=n,(e=p.value)==null||e.open()},E=()=>{c("close")};return g({open:w,setFormData:V,getDetail:y}),(n,e)=>{const d=F,s=j,S=B;return R(),C("div",N,[o(P,{ref_key:"popupRef",ref:p,title:a(U),async:!0,width:"550px",onConfirm:k,onClose:E},{default:u(()=>[o(S,{ref_key:"formRef",ref:f,model:a(l),"label-width":"90px",rules:a(h)},{default:u(()=>[o(s,{label:"场景名称",prop:"name"},{default:u(()=>[o(d,{modelValue:a(l).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(l).name=t),clearable:"",placeholder:"请输入场景名称"},null,8,["modelValue"])]),_:1}),o(s,{label:"图片",prop:"cover_image"},{default:u(()=>[o(d,{modelValue:a(l).cover_image,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).cover_image=t),clearable:"",placeholder:"请输入图片"},null,8,["modelValue"])]),_:1}),o(s,{label:"视频地址",prop:"video_url"},{default:u(()=>[o(d,{modelValue:a(l).video_url,"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).video_url=t),clearable:"",placeholder:"请输入视频地址"},null,8,["modelValue"])]),_:1}),o(s,{label:"场景ID",prop:"scene_id"},{default:u(()=>[o(d,{modelValue:a(l).scene_id,"onUpdate:modelValue":e[3]||(e[3]=t=>a(l).scene_id=t),clearable:"",placeholder:"请输入场景ID"},null,8,["modelValue"])]),_:1}),o(s,{label:"",prop:"robotid"},{default:u(()=>[o(d,{modelValue:a(l).robotid,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).robotid=t),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(s,{label:"",prop:"uid"},{default:u(()=>[o(d,{modelValue:a(l).uid,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).uid=t),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(s,{label:"视频地址",prop:"apiVideoUrl"},{default:u(()=>[o(d,{modelValue:a(l).apiVideoUrl,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).apiVideoUrl=t),clearable:"",placeholder:"请输入视频地址"},null,8,["modelValue"])]),_:1}),o(s,{label:"",prop:"type"},{default:u(()=>[o(d,{modelValue:a(l).type,"onUpdate:modelValue":e[7]||(e[7]=t=>a(l).type=t),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(s,{label:"任务ID",prop:"task_id"},{default:u(()=>[o(d,{modelValue:a(l).task_id,"onUpdate:modelValue":e[8]||(e[8]=t=>a(l).task_id=t),clearable:"",placeholder:"请输入任务ID"},null,8,["modelValue"])]),_:1}),o(s,{label:"状态",prop:"status"},{default:u(()=>[o(d,{modelValue:a(l).status,"onUpdate:modelValue":e[9]||(e[9]=t=>a(l).status=t),clearable:"",placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),o(s,{label:"错误消息",prop:"massage"},{default:u(()=>[o(d,{modelValue:a(l).massage,"onUpdate:modelValue":e[10]||(e[10]=t=>a(l).massage=t),clearable:"",placeholder:"请输入错误消息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{M as _,K as a,J as b};
