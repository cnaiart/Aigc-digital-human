import{y as i,d as _,s as p,i as V,c as k,j as m,o as C,a as E,m as f,w as b,e as l}from"./index-CCrR8gz-.js";import{a as j}from"./el-form-DkAfNPH3.js";import{P as B}from"./index-DHgbyyKv.js";function T(o){return i.get({url:"/digitalhuman.dh_video/lists",params:o})}function F(o){return i.post({url:"/digitalhuman.dh_video/add",params:o})}function P(o){return i.post({url:"/digitalhuman.dh_video/edit",params:o})}function q(o){return i.get({url:"/digitalhuman.dh_video/detail",params:o})}const A={class:"edit-popup"},L=_({name:"dhVideoEdit"}),z=_({...L,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(o,{expose:h,emit:v}){const c=v,r=p(),n=p(),d=V("add"),w=k(()=>d.value=="edit"?"编辑记录":"新增记录"),a=m({id:""}),y=m({}),u=async t=>{for(const e in a)t[e]!=null&&t[e]!=null&&(a[e]=t[e])},D=async t=>{const e=await q({id:t.id});u(e)},g=async()=>{var e,s;await((e=r.value)==null?void 0:e.validate());const t={...a};d.value=="edit"?await P(t):await F(t),(s=n.value)==null||s.close(),c("success")},x=(t="add")=>{var e;d.value=t,(e=n.value)==null||e.open()},R=()=>{c("close")};return h({open:x,setFormData:u,getDetail:D}),(t,e)=>{const s=j;return C(),E("div",A,[f(B,{ref_key:"popupRef",ref:n,title:l(w),async:!0,width:"550px",onConfirm:g,onClose:R},{default:b(()=>[f(s,{ref_key:"formRef",ref:r,model:l(a),"label-width":"90px",rules:l(y)},null,8,["model","rules"])]),_:1},8,["title"])])}}});export{z as _,T as a};
