import{d as V,s as q,i as x,j as U,z,o as s,a as A,m as t,w as o,e as a,p as d,B as c,C as r,b as y,D as G,G as H,H as E,I as K,E as J,v as M,q as O,K as Q}from"./index-CCrR8gz-.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-DDaBj0sS.js";import{E as X,a as Y}from"./el-table-column-D7nUoGJX.js";import"./el-checkbox-DAGPPbNY.js";import"./el-tag-Cl2Qmz3l.js";import{E as Z}from"./el-card-D8ZdqwP3.js";import{E as ee,a as te}from"./el-form-DkAfNPH3.js";import"./el-form-item-l0sNRNKZ.js";import{u as oe}from"./usePaging-L7-2Frc5.js";import{a as ae}from"./useDictOptions-BPbpikja.js";import{_ as ne,a as le,b as se}from"./edit.vue_vue_type_script_setup_true_name_dhVoiceTextEdit_lang-5jwEjdn2.js";import"./el-select-CfHlCGCq.js";import"./index-CLznhjfG.js";import"./token-DI9FKtlJ.js";import"./isEqual-JI6aO8r4.js";import"./_Uint8Array-uB5CFG-g.js";import"./_initCloneObject-CPhW_kte.js";import"./_baseClone-BB0WOwCk.js";import"./index-DHgbyyKv.js";import"./index-lIngYJLf.js";const ie={class:"mt-4"},de={class:"flex mt-4 justify-end"},re=V({name:"dhVoiceTextLists"}),Pe=V({...re,setup(me){const u=q(),_=x(!1),f=U({name:""}),g=x([]),D=n=>{g.value=n.map(({id:e})=>e)},{dictData:T}=ae(""),{pager:m,getLists:v,resetParams:$,resetPage:B}=oe({fetchFun:se,params:f}),P=async()=>{var n;_.value=!0,await E(),(n=u.value)==null||n.open("add")},F=async n=>{var e,C;_.value=!0,await E(),(e=u.value)==null||e.open("edit"),(C=u.value)==null||C.setFormData(n)},k=async n=>{await K.confirm("确定要删除？"),await le({id:n}),v()};return v(),(n,e)=>{const C=J,w=ee,i=M,L=te,h=Z,N=O,p=X,R=Y,S=W,b=z("perms"),I=Q;return s(),A("div",null,[t(h,{class:"!border-none mb-4",shadow:"never"},{default:o(()=>[t(L,{class:"mb-[-16px]",model:a(f),inline:""},{default:o(()=>[t(w,{label:"",prop:"name"},{default:o(()=>[t(C,{class:"w-[280px]",modelValue:a(f).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(f).name=l),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),t(w,null,{default:o(()=>[t(i,{type:"primary",onClick:a(B)},{default:o(()=>e[4]||(e[4]=[d("查询")])),_:1},8,["onClick"]),t(i,{onClick:a($)},{default:o(()=>e[5]||(e[5]=[d("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),c((s(),r(h,{class:"!border-none",shadow:"never"},{default:o(()=>[c((s(),r(i,{type:"primary",onClick:P},{icon:o(()=>[t(N,{name:"el-icon-Plus"})]),default:o(()=>[e[6]||(e[6]=d(" 新增 "))]),_:1})),[[b,["digitalhuman.dh_voice_text/add"]]]),c((s(),r(i,{disabled:!a(g).length,onClick:e[1]||(e[1]=l=>k(a(g)))},{default:o(()=>e[7]||(e[7]=[d(" 删除 ")])),_:1},8,["disabled"])),[[b,["digitalhuman.dh_voice_text/delete"]]]),y("div",ie,[t(R,{data:a(m).lists,onSelectionChange:D},{default:o(()=>[t(p,{type:"selection",width:"55"}),t(p,{label:"标题",prop:"name","show-overflow-tooltip":""}),t(p,{label:"内容",prop:"content","show-overflow-tooltip":""}),t(p,{label:"排序(升序)",prop:"sort","show-overflow-tooltip":""}),t(p,{label:"操作",width:"120",fixed:"right"},{default:o(({row:l})=>[c((s(),r(i,{type:"primary",link:"",onClick:j=>F(l)},{default:o(()=>e[8]||(e[8]=[d(" 编辑 ")])),_:2},1032,["onClick"])),[[b,["digitalhuman.dh_voice_text/edit"]]]),c((s(),r(i,{type:"danger",link:"",onClick:j=>k(l.id)},{default:o(()=>e[9]||(e[9]=[d(" 删除 ")])),_:2},1032,["onClick"])),[[b,["digitalhuman.dh_voice_text/delete"]]])]),_:1})]),_:1},8,["data"])]),y("div",de,[t(S,{modelValue:a(m),"onUpdate:modelValue":e[2]||(e[2]=l=>G(m)?m.value=l:null),onChange:a(v)},null,8,["modelValue","onChange"])])]),_:1})),[[I,a(m).loading]]),a(_)?(s(),r(ne,{key:0,ref_key:"editRef",ref:u,"dict-data":a(T),onSuccess:a(v),onClose:e[3]||(e[3]=l=>_.value=!1)},null,8,["dict-data","onSuccess"])):H("",!0)])}}});export{Pe as default};
