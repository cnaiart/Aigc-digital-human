import{y as r,d as _,s as p,i as R,c as k,j as m,o as C,a as E,m as f,w as b,e as d}from"./index-CCrR8gz-.js";import{a as j}from"./el-form-DkAfNPH3.js";import{P as B}from"./index-DHgbyyKv.js";function V(o){return r.get({url:"/digitalhuman.dh_order/lists",params:o})}function F(o){return r.post({url:"/digitalhuman.dh_order/add",params:o})}function P(o){return r.post({url:"/digitalhuman.dh_order/edit",params:o})}function q(o){return r.get({url:"/digitalhuman.dh_order/detail",params:o})}const A={class:"edit-popup"},L=_({name:"dhOrderEdit"}),z=_({...L,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(o,{expose:h,emit:v}){const l=v,c=p(),n=p(),i=R("add"),w=k(()=>i.value=="edit"?"编辑订单":"新增订单"),a=m({id:""}),y=m({}),u=async t=>{for(const e in a)t[e]!=null&&t[e]!=null&&(a[e]=t[e])},D=async t=>{const e=await q({id:t.id});u(e)},g=async()=>{var e,s;await((e=c.value)==null?void 0:e.validate());const t={...a};i.value=="edit"?await P(t):await F(t),(s=n.value)==null||s.close(),l("success")},x=(t="add")=>{var e;i.value=t,(e=n.value)==null||e.open()},O=()=>{l("close")};return h({open:x,setFormData:u,getDetail:D}),(t,e)=>{const s=j;return C(),E("div",A,[f(B,{ref_key:"popupRef",ref:n,title:d(w),async:!0,width:"550px",onConfirm:g,onClose:O},{default:b(()=>[f(s,{ref_key:"formRef",ref:c,model:d(a),"label-width":"90px",rules:d(y)},null,8,["model","rules"])]),_:1},8,["title"])])}}});export{z as _,V as a};
