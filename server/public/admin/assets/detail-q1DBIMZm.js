import{d as j,g as R,j as g,s as N,z as U,o as f,a as V,m as t,w as s,e as o,b as u,p as r,t as m,B as c,C as v,Z as z,$ as F,v as M,q as S}from"./index-CCrR8gz-.js";import{E as H,a as I}from"./el-form-DkAfNPH3.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang-DWmGjRPQ.js";import"./el-form-item-l0sNRNKZ.js";import{E as T}from"./el-card-D8ZdqwP3.js";import{E as Z}from"./el-page-header-CYAl2isf.js";import{g as G,u as J,a as K,b as L}from"./consumer-C3kZd14c.js";import{_ as Q}from"./account-adjust.vue_vue_type_script_setup_true_lang-3iYjtEQN.js";import{_ as W}from"./account-adjust-points.vue_vue_type_script_setup_true_lang-nyh0lIAR.js";import"./_baseClone-BB0WOwCk.js";import"./_Uint8Array-uB5CFG-g.js";import"./_initCloneObject-CPhW_kte.js";import"./el-popover-RqbIN1wR.js";import"./el-tag-Cl2Qmz3l.js";import"./isEqual-JI6aO8r4.js";import"./el-select-CfHlCGCq.js";import"./index-CLznhjfG.js";import"./token-DI9FKtlJ.js";/* empty css                       */import"./el-radio-Bn9sE85B.js";import"./index-DHgbyyKv.js";import"./index-lIngYJLf.js";const X={class:"bg-page flex py-5 mb-10 items-center"},Y={class:"basis-40 flex flex-col justify-center items-center"},ee={class:"basis-40 flex flex-col justify-center items-center"},te={class:"mt-2 flex items-center"},se={class:"basis-40 flex flex-col justify-center items-center"},oe={class:"mt-2 flex items-center"},ae=j({name:"consumerDetail"}),$e=j({...ae,setup(ne){const y=R(),a=g({avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,sex:0,sn:"",account:"",user_money:"",points:""}),i=g({show:!1,value:"",showPoints:!1}),C=N(),b=async()=>{const n=await G({id:y.query.id});Object.keys(a).forEach(e=>{a[e]=n[e]})},w=async(n,e)=>{z(n)||(await J({id:y.query.id,field:e,value:n}),b())},P=n=>{i.show=!0,i.value=n},h=n=>{i.showPoints=!0,i.value=n},$=async n=>{await K({user_id:y.query.id,...n}),i.show=!1,b()},B=async n=>{await L({user_id:y.query.id,...n}),i.showPoints=!1,b()};return b(),(n,e)=>{const D=Z,k=T,q=F,p=M,d=H,x=S,E=O,A=I,_=U("perms");return f(),V("div",null,[t(k,{class:"!border-none",shadow:"never"},{default:s(()=>[t(D,{content:"用户详情",onBack:e[0]||(e[0]=l=>n.$router.back())})]),_:1}),t(k,{class:"mt-4 !border-none",header:"基本资料",shadow:"never"},{default:s(()=>[t(A,{ref_key:"formRef",ref:C,class:"ls-form",model:o(a),"label-width":"120px"},{default:s(()=>[u("div",X,[u("div",Y,[e[9]||(e[9]=u("div",{class:"mb-2 text-tx-regular"},"用户头像",-1)),t(q,{src:o(a).avatar,size:58},null,8,["src"])]),u("div",ee,[e[11]||(e[11]=u("div",{class:"text-tx-regular"},"账户余额",-1)),u("div",te,[r(" ¥"+m(o(a).user_money)+" ",1),c((f(),v(p,{type:"primary",link:"",onClick:e[1]||(e[1]=l=>P(o(a).user_money))},{default:s(()=>e[10]||(e[10]=[r(" 调整 ")])),_:1})),[[_,["user.user/adjustMoney"]]])])]),u("div",se,[e[13]||(e[13]=u("div",{class:"text-tx-regular"},"账户点数",-1)),u("div",oe,[r(m(o(a).points)+" ",1),c((f(),v(p,{type:"primary",link:"",onClick:e[2]||(e[2]=l=>h(o(a).points))},{default:s(()=>e[12]||(e[12]=[r(" 调整 ")])),_:1})),[[_,["user.user/adjustPoints"]]])])])]),t(d,{label:"用户昵称："},{default:s(()=>[r(m(o(a).nickname),1)]),_:1}),t(d,{label:"账号："},{default:s(()=>[r(m(o(a).account)+" ",1),c((f(),v(E,{class:"ml-[10px]",onConfirm:e[3]||(e[3]=l=>w(l,"account")),limit:32},{default:s(()=>[t(p,{type:"primary",link:""},{default:s(()=>[t(x,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(d,{label:"真实姓名："},{default:s(()=>[r(m(o(a).real_name||"-")+" ",1),c((f(),v(E,{class:"ml-[10px]",onConfirm:e[4]||(e[4]=l=>w(l,"real_name")),limit:32},{default:s(()=>[t(p,{type:"primary",link:""},{default:s(()=>[t(x,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(d,{label:"性别："},{default:s(()=>[r(m(o(a).sex)+" ",1),c((f(),v(E,{class:"ml-[10px]",type:"select",options:[{label:"未知",value:0},{label:"男",value:1},{label:"女",value:2}],onConfirm:e[5]||(e[5]=l=>w(l,"sex"))},{default:s(()=>[t(p,{type:"primary",link:""},{default:s(()=>[t(x,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(d,{label:"联系电话："},{default:s(()=>[r(m(o(a).mobile||"-")+" ",1),c((f(),v(E,{class:"ml-[10px]",type:"number",onConfirm:e[6]||(e[6]=l=>w(l,"mobile"))},{default:s(()=>[t(p,{type:"primary",link:""},{default:s(()=>[t(x,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(d,{label:"注册来源："},{default:s(()=>[r(m(o(a).channel),1)]),_:1}),t(d,{label:"注册时间："},{default:s(()=>[r(m(o(a).create_time),1)]),_:1}),t(d,{label:"最近登录时间："},{default:s(()=>[r(m(o(a).login_time),1)]),_:1})]),_:1},8,["model"])]),_:1}),t(Q,{show:o(i).show,"onUpdate:show":e[7]||(e[7]=l=>o(i).show=l),value:o(i).value,onConfirm:$},null,8,["show","value"]),t(W,{show:o(i).showPoints,"onUpdate:show":e[8]||(e[8]=l=>o(i).showPoints=l),value:o(i).value,onConfirm:B},null,8,["show","value"])])}}});export{$e as default};
