import{y as p,d as b,s as g,i as C,c as U,j as k,o as F,a as I,m as n,w as r,e as l,E as j,L as B}from"./index-CCrR8gz-.js";import{E as L,a as N}from"./el-form-DkAfNPH3.js";import"./el-form-item-l0sNRNKZ.js";import{P as q}from"./index-DHgbyyKv.js";function M(o){return p.get({url:"/digitalhuman.dh_package/lists",params:o})}function A(o){return p.post({url:"/digitalhuman.dh_package/add",params:o})}function O(o){return p.post({url:"/digitalhuman.dh_package/edit",params:o})}function Q(o){return p.post({url:"/digitalhuman.dh_package/delete",params:o})}function S(o){return p.get({url:"/digitalhuman.dh_package/detail",params:o})}const T={class:"edit-popup"},z=b({name:"dhPackageEdit"}),W=b({...z,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(o,{expose:V,emit:D}){const f=D,_=g(),d=g(),c=C("add"),v=U(()=>c.value=="edit"?"编辑套餐":"新增套餐"),a=k({id:"",name:"",price:"",points:"",sort:""}),w=k({}),h=async t=>{for(const e in a)t[e]!=null&&t[e]!=null&&(a[e]=t[e])},y=async t=>{const e=await S({id:t.id});h(e)},E=async()=>{var e,u;await((e=_.value)==null?void 0:e.validate());const t={...a};c.value=="edit"?await O(t):await A(t),(u=d.value)==null||u.close(),f("success")},P=(t="add")=>{var e;c.value=t,(e=d.value)==null||e.open()},x=()=>{f("close")};return V({open:P,setFormData:h,getDetail:y}),(t,e)=>{const u=j,i=L,m=B,R=N;return F(),I("div",T,[n(q,{ref_key:"popupRef",ref:d,title:l(v),async:!0,width:"550px",onConfirm:E,onClose:x},{default:r(()=>[n(R,{ref_key:"formRef",ref:_,model:l(a),"label-width":"130px",rules:l(w)},{default:r(()=>[n(i,{label:"套餐名称",prop:"name"},{default:r(()=>[n(u,{modelValue:l(a).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(a).name=s),clearable:"",placeholder:"请输入套餐名称"},null,8,["modelValue"])]),_:1}),n(i,{label:"套餐价格",prop:"price"},{default:r(()=>[n(m,{controls:!1,modelValue:l(a).price,"onUpdate:modelValue":e[1]||(e[1]=s=>l(a).price=s),clearable:"",placeholder:"请输入套餐价格"},null,8,["modelValue"])]),_:1}),n(i,{label:"套餐点数",prop:"points"},{default:r(()=>[n(m,{controls:!1,modelValue:l(a).points,"onUpdate:modelValue":e[2]||(e[2]=s=>l(a).points=s),clearable:"",placeholder:"请输入套餐点数"},null,8,["modelValue"])]),_:1}),n(i,{label:"排序（升序）",prop:"sort"},{default:r(()=>[n(m,{controls:!1,modelValue:l(a).sort,"onUpdate:modelValue":e[3]||(e[3]=s=>l(a).sort=s),clearable:"",placeholder:"请输入排序（升序）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{W as _,Q as a,M as b};
