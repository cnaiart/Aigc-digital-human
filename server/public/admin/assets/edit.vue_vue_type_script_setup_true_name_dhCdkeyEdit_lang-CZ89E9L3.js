import{y as u,d as g,s as h,i as q,c as I,j as k,o as m,a as b,m as n,w as d,e as l,F as L,r as N,C as P,p as S,t as T,E as A}from"./index-CCrR8gz-.js";import{E as G,a as O}from"./el-form-DkAfNPH3.js";/* empty css                       */import{E as z,a as H}from"./el-radio-Bn9sE85B.js";import"./el-form-item-l0sNRNKZ.js";import{P as J}from"./index-DHgbyyKv.js";function oe(t){return u.get({url:"/digitalhuman.dh_cdkey/lists",params:t})}function K(t){return u.post({url:"/digitalhuman.dh_cdkey/add",params:t})}function M(t){return u.post({url:"/digitalhuman.dh_cdkey/edit",params:t})}function le(t){return u.post({url:"/digitalhuman.dh_cdkey/delete",params:t})}function Q(t){return u.get({url:"/digitalhuman.dh_cdkey/detail",params:t})}const W={class:"edit-popup"},X=g({name:"dhCdkeyEdit"}),se=g({...X,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(t,{expose:D,emit:C}){const f=C,_=h(),i=h(),p=q("add"),v=I(()=>p.value=="edit"?"编辑卡密":"新增卡密"),o=k({status:"0",points:"",number:1}),E=k({code:[{required:!0,message:"请输入",trigger:["blur"]}]}),y=async a=>{for(const e in o)a[e]!=null&&a[e]!=null&&(o[e]=a[e])},V=async a=>{const e=await Q({id:a.id});y(e)},w=async()=>{var e,r;await((e=_.value)==null?void 0:e.validate());const a={...o};p.value=="edit"?await M(a):await K(a),(r=i.value)==null||r.close(),f("success")},R=(a="add")=>{var e;p.value=a,(e=i.value)==null||e.open()},x=()=>{f("close")};return D({open:R,setFormData:y,getDetail:V}),(a,e)=>{const r=A,c=G,F=z,B=H,U=O;return m(),b("div",W,[n(J,{ref_key:"popupRef",ref:i,title:l(v),async:!0,width:"550px",onConfirm:w,onClose:x},{default:d(()=>[n(U,{ref_key:"formRef",ref:_,model:l(o),"label-width":"90px",rules:l(E)},{default:d(()=>[n(c,{label:"生成数量",prop:"number"},{default:d(()=>[n(r,{modelValue:l(o).number,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).number=s),clearable:"",placeholder:"请输入数量"},null,8,["modelValue"])]),_:1}),n(c,{label:"状态",prop:"status"},{default:d(()=>[n(B,{modelValue:l(o).status,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).status=s),placeholder:"请选择"},{default:d(()=>[(m(!0),b(L,null,N(t.dictData.system_disable,(s,j)=>(m(),P(F,{key:j,label:s.value},{default:d(()=>[S(T(s.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(c,{label:"兑换点数",prop:"points"},{default:d(()=>[n(r,{modelValue:l(o).points,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).points=s),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{se as _,le as a,oe as b};
