import{d as V,s as S,i as h,j as U,z as F,o as p,a as T,m as e,w as t,e as a,p as u,B as k,C as f,b as v,D as j,G as z,I as q,E as A,v as G,$ as K,K as H}from"./index-CCrR8gz-.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang-DDaBj0sS.js";import{E as M,a as O}from"./el-table-column-D7nUoGJX.js";import"./el-checkbox-DAGPPbNY.js";import"./el-tag-Cl2Qmz3l.js";import{E as Q}from"./el-card-D8ZdqwP3.js";import{E as W,a as X}from"./el-form-DkAfNPH3.js";import"./el-form-item-l0sNRNKZ.js";import{u as Y}from"./usePaging-L7-2Frc5.js";import{a as Z}from"./useDictOptions-BPbpikja.js";import{_ as ee,a as oe,b as ae}from"./edit.vue_vue_type_script_setup_true_name_dhVoiceEdit_lang-h3r70H-D.js";import"./el-select-CfHlCGCq.js";import"./index-CLznhjfG.js";import"./token-DI9FKtlJ.js";import"./isEqual-JI6aO8r4.js";import"./_Uint8Array-uB5CFG-g.js";import"./_initCloneObject-CPhW_kte.js";import"./_baseClone-BB0WOwCk.js";import"./index-DHgbyyKv.js";import"./index-lIngYJLf.js";const le={class:"mt-4"},te=["href"],se={class:"flex mt-4 justify-end"},ne=V({name:"dhVoiceLists"}),Be=V({...ne,setup(ie){const D=S(),b=h(!1),n=U({task_id:"",name:"",voice_id:""}),g=h([]),C=d=>{g.value=d.map(({id:o})=>o)},{dictData:E}=Z(""),{pager:i,getLists:r,resetParams:x,resetPage:I}=Y({fetchFun:ae,params:n}),y=async d=>{await q.confirm("确定要删除？"),await oe({id:d}),r()};return r(),(d,o)=>{const c=A,m=W,_=G,B=X,w=Q,s=M,$=K,L=O,N=J,P=F("perms"),R=H;return p(),T("div",null,[e(w,{class:"!border-none mb-4",shadow:"never"},{default:t(()=>[e(B,{class:"mb-[-16px]",model:a(n),inline:""},{default:t(()=>[e(m,{label:"任务ID",prop:"task_id"},{default:t(()=>[e(c,{class:"w-[280px]",modelValue:a(n).task_id,"onUpdate:modelValue":o[0]||(o[0]=l=>a(n).task_id=l),clearable:"",placeholder:"请输入任务ID"},null,8,["modelValue"])]),_:1}),e(m,{label:"音频名称",prop:"name"},{default:t(()=>[e(c,{class:"w-[280px]",modelValue:a(n).name,"onUpdate:modelValue":o[1]||(o[1]=l=>a(n).name=l),clearable:"",placeholder:"请输入音频名称"},null,8,["modelValue"])]),_:1}),e(m,{label:"音频ID",prop:"voice_id"},{default:t(()=>[e(c,{class:"w-[280px]",modelValue:a(n).voice_id,"onUpdate:modelValue":o[2]||(o[2]=l=>a(n).voice_id=l),clearable:"",placeholder:"请输入音频ID"},null,8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(_,{type:"primary",onClick:a(I)},{default:t(()=>o[5]||(o[5]=[u("查询")])),_:1},8,["onClick"]),e(_,{onClick:a(x)},{default:t(()=>o[6]||(o[6]=[u("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),k((p(),f(w,{class:"!border-none",shadow:"never"},{default:t(()=>[v("div",le,[e(L,{data:a(i).lists,onSelectionChange:C},{default:t(()=>[e(s,{label:"ID",prop:"id","show-overflow-tooltip":""}),e(s,{label:"昵称",prop:"user.nickname","show-overflow-tooltip":""}),e(s,{label:"头像"},{default:t(({row:l})=>[e($,{src:l.user.avatar,size:50},null,8,["src"])]),_:1}),e(s,{label:"任务ID",prop:"task_id","show-overflow-tooltip":""}),e(s,{label:"音频","min-width":"100"},{default:t(({row:l})=>[v("a",{href:l.local_voice_url,target:"_blank",rel:"noopener noreferrer"},"点击播放",8,te)]),_:1}),e(s,{label:"时长",prop:"duration","show-overflow-tooltip":""}),e(s,{label:"音频名称",prop:"name","show-overflow-tooltip":""}),e(s,{label:"音频ID",prop:"voice_id","show-overflow-tooltip":""}),e(s,{label:"创建时间",prop:"create_time","show-overflow-tooltip":""}),e(s,{label:"操作",width:"120",fixed:"right"},{default:t(({row:l})=>[k((p(),f(_,{type:"danger",link:"",onClick:re=>y(l.id)},{default:t(()=>o[7]||(o[7]=[u(" 删除 ")])),_:2},1032,["onClick"])),[[P,["digitalhuman.dh_voice/delete"]]])]),_:1})]),_:1},8,["data"])]),v("div",se,[e(N,{modelValue:a(i),"onUpdate:modelValue":o[3]||(o[3]=l=>j(i)?i.value=l:null),onChange:a(r)},null,8,["modelValue","onChange"])])]),_:1})),[[R,a(i).loading]]),a(b)?(p(),f(ee,{key:0,ref_key:"editRef",ref:D,"dict-data":a(E),onSuccess:a(r),onClose:o[4]||(o[4]=l=>b.value=!1)},null,8,["dict-data","onSuccess"])):z("",!0)])}}});export{Be as default};
